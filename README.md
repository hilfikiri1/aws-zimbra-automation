# Zimbra Installation and Configuration Automation

This project automates the deployment and configuration of the Zimbra email server using Terraform, Ansible, and Jenkins, aimed at providing a reliable and efficient multi-server Zimbra installation in a corporate environment.

## Overview

The infrastructure is provisioned using **Terraform**, and the configuration is managed through **Ansible**. The project includes automation for Zimbra installation and configuration, including the necessary servers, roles, and services, as well as a **CI/CD pipeline** to streamline the entire process using **Jenkins**.

## Features

- **Terraform**: Automates the provisioning of the infrastructure. Terraform outputs are used to configure the infrastructure dynamically.
- **Ansible**: Manages the configuration of the servers, installs Zimbra, and sets up its services. The playbooks ensure that the configuration is consistent across all machines.
- **Jenkins CI/CD Pipeline**: Automates the deployment of Zimbra through a fully integrated pipeline. It handles the infrastructure setup (via Terraform) and server configuration (via Ansible), ensuring seamless deployment.
- **Zimbra FOSS 8.8.15**: The Zimbra 8.8.15 FOSS version is installed, with flexibility to install other versions such as the Network Edition (licensed).
- **Monitoring and Testing**: The system includes monitoring for server status and email tests to ensure the configuration works as expected.

## Files

- **terraform_outputs.json**: Contains the output data from Terraform, including details about the provisioned servers.
- **inventory**: Automatically generated by Terraform, it includes all the necessary server information and Zimbra configuration details.
- **ansible.cfg**: Configuration file for Ansible, which defines the structure and settings, including the inventory file name.
- **hosts.j2**: Jinja2 template used for generating the final hosts configuration.
- **playbook.yml**: The primary Ansible playbook, which runs the series of tasks for installing and configuring Zimbra.
- **Jenkinsfile**: Defines the CI/CD pipeline for automating the deployment process using Jenkins.
- **datasources.tf**: Defines data sources that Terraform can query to retrieve information from existing infrastructure, allowing you to reference resources not managed by Terraform.
- **linux-ssh-config.tpl**: A template file used to generate SSH configuration for Linux instances, containing placeholders that are replaced with actual values during provisioning.
- **main.tf**: The primary configuration file where the main infrastructure resources are defined, including resource blocks, modules, and necessary configurations for deployment.
- **terraform_outputs.json**: A JSON file generated by Terraform that contains output values, useful for integration with other tools or programmatic access to output data.
- **variables.tf**: Defines input variables for the Terraform configuration, specifying variable types, default values, and descriptions to allow for flexible and reusable code.

## Usage

1. **Clone the Repository and set the needed variables for the project**:  
   `git clone <repository-url>`

2. **Initialize Terraform**:  
   `terraform init`

3. **Apply Terraform Configuration**:  
   `terraform apply`

4. **Configure Servers with Ansible**:  
   `ansible-playbook playbook.yml`

5. **Run the Jenkins Pipeline**:  
   Set up Jenkins and link it to the repository to trigger the pipeline automatically or manually.

## Result 

![image](https://github.com/user-attachments/assets/11988ac2-f56a-4271-a223-6c43460c8b5f)
![image](https://github.com/user-attachments/assets/1c8de316-a365-44b3-a032-45e3fe497027)

